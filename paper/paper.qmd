---
title: "The Beatles"
subtitle: "What are their top 5 popular songs?"
author: 
  - Hyunje Park, Charlie Zhang
thanks: "Code and data are available at: https://github.com/davidpxrk/beatles-top-5-songs"
date: today
date-format: long
abstract: "This paper analyzes which songs from the 1960s rock-band The Beatles had the highest rating in the United States, using the popularity rating extracted from the Spotify API. It was discovered that the top 5 songs in popularity were Here Comes the Sun, Let It Be, Blackbird, Yesterday, In My Life."
format: pdf
toc: true
number-sections: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false
#install.packages('ggplot2)
#install.packages('spotifyr')

library(spotifyr)
library(dplyr)

# CHANGE THIS
Sys.setenv(SPOTIFY_CLIENT_ID = '')
Sys.setenv(SPOTIFY_CLIENT_SECRET = '')

access_token <- get_spotify_access_token()
```

\newpage

# Introduction

The Beatles, is one of the most popular English rock band in the world, dominating the music industry in the 1960s. This paper analyzes which songs from the band `The Beatles` had the highest popularity rating, using the Spotify API to collect information on their song's popularity. The method of this web scrapping is further mentioned in Data (@sec-data).

The paper is structured as follows: Data (@sec-data) introduces the dataset; Results (@sec-results) presents key findings; Discussion (@sec-discussion) explores observations and limitations; and Conclusion (@sec-conclusion) summarizes the analysis.

# Data {#sec-data}

This report uses the `Spotify API` to gather information on the popularity of `the Beatles`' songs. Each song in the Spotify API is in a `.json` format with the variables `name` (name of the song) and `popularity` (a number from 0-100) generated by Spotify that indicates how popular the song is.

First, a Spotify Developer Account was made to get access to Spotify's `Web API`, and the client ID and secret ID was made to call Spotify's API. Next, the `R Programming Language` and the `spotifyr`, `dpylr` packages was used to extract the top 5 songs of the band `The Beatles`, and make a presentable table.


# Results {#sec-results}

@fig-difference shows `the Beatles`' top 5 tracks. It was discovered that the top 5 songs in popularity were Here Comes the Sun, Let It Be, Blackbird, Yesterday, In My Life."

```{r}
#| label: fig-difference
#| fig-cap: "Number of Unique Products for each Grocery Vendor"
#| echo: false

beatles <- search_spotify('The Beatles', type = 'artist')

# Extract the artist ID (use the first result if it matches the name)
beatles_id <- beatles$id[1]


top_tracks <- get_artist_top_tracks(beatles_id, market = 'US')

# Extract and display the top 5 tracks
top_5 <- top_tracks %>%
  arrange(-popularity) %>%
  head(5) %>%
  select(name, popularity)
print(top_5)

```

\newpage

# Discussion {#sec-discussion}

@fig-difference showed the top 5 songs in popularity were Here Comes the Sun, Let It Be, Blackbird, Yesterday, In My Life. 

However, this is strict based off of `Spotify`'s popularity algorithm, that indicates a song's popularity based on recent play count, overall play count, user engagement and many other variables. This algorithm is kept hidden, hence it may be difficult to accurately reflect the popularity of the songs.


# Conclusion {#sec-conclusion}

In summary, this paper analyzed Canadian grocery vendors' product variety, finding Metro and Walmart lead with over 20,000 unique items, while chains like Galleria and T&T, focused on Asian products, have fewer than 10,000.


\newpage

# References
