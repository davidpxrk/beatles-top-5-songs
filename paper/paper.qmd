---
title: "The Beatles"
subtitle: "What are their top 5 popular songs?"
author: 
  - Hyunje Park, Charlie Zhang
thanks: "Code and data are available at: https://github.com/davidpxrk/beatles-top-5-songs"
date: today
date-format: long
abstract: "This paper analyzes which songs from the 1960s rock-band The Beatles had the highest rating in the United States, using the popularity rating extracted from the Spotify API. It was discovered that the top 5 songs in popularity were Here Comes the Sun, Let It Be, Blackbird, Yesterday, In My Life."
format: pdf
toc: true
number-sections: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false
#install.packages('ggplot2)
#install.packages('spotifyr')
#install.packages('dplyr')
library(spotifyr)
library(ggplot2)
library(dplyr)

# CHANGE THIS
Sys.setenv(SPOTIFY_CLIENT_ID = '')
Sys.setenv(SPOTIFY_CLIENT_SECRET = '')

access_token <- get_spotify_access_token()
```

\newpage

# Introduction

The Beatles, is one of the most popular English rock band in the world, dominating the music industry in the 1960s. This paper analyzes which songs from the band `The Beatles` had the highest popularity rating, using the Spotify API to collect information on their song's popularity. The method of this web scrapping is further mentioned in Data (@sec-data).

The paper is structured as follows: Data (@sec-data) introduces the dataset; Results (@sec-results) presents key findings; Discussion (@sec-discussion) explores observations and limitations; and Conclusion (@sec-conclusion) summarizes the analysis.

# Data {#sec-data}

This report analyzes the Canadian Grocery Price dataset, collected by Jacob Filipp and hosted by Project Hammer [@citedprojecthammer]. Of the three tables in the dataset, only the product table was used, focusing on the `id` (product identifier) and `vendor` (name of the vendor) variables. 

First, the original dataset was downloaded from `Project Hammer` [@citedprojecthammer]. Using `SQL` [@citesql], the `id` and `vendor` variables were selected, and a table was created that containing the number of unique product IDs (`id`) for each vendor. This table was then exported as a `.csv` file. The exported `.csv` file was then analyzed in `R Programming Language` [@citeR] to visualize the relationship between vendors and their unique product counts, using the `ggplot2` package [@citeggplot2].



# Results {#sec-results}

@fig-difference shows the unique product counts for each Canadian grocery vendors. Overall, Loblaws, Metro and Walmart reigned at the top with over 20,000+ products, while international-focused chains such as Galleria or T&T had the least amount of unique products.

```{r}
#| label: fig-difference
#| fig-cap: "Number of Unique Products for each Grocery Vendor"
#| echo: false

beatles <- search_spotify('The Beatles', type = 'artist')

# Extract the artist ID (use the first result if it matches the name)
beatles_id <- beatles$id[1]


top_tracks <- get_artist_top_tracks(beatles_id, market = 'US')

# Extract and display the top 5 tracks
top_5 <- top_tracks %>%
  arrange(-popularity) %>%
  head(5) %>%
  select(name, popularity)
print(top_5)

```

\newpage

# Discussion {#sec-discussion}

@fig-difference showed that big companies such as Metro and Walmart far passed Galleria and T&T in product variety, showing a competitive challenge for smaller vendors.

## Correlation vs Causation

Larger vendors, like Walmart (the world's largest company by revenue) offer more unique items, while smaller vendors such as Galleria and T&T have a smaller revenue, which could explain the disparity in product variety.

## Missing Data

The `upc` (universal product code) and `sku` (inventory identifier) variables were excluded from the analysis as they were missing for all products.

## Source of bias 


This raises the question of why vendors like Galleria and T&T lag in product variety. As Asian-fusion grocery chains, they rely on costly imports, which could limit their inventory. However, without data on product types, commenting on the efficiency and competition on these vendors is impossible.


# Conclusion {#sec-conclusion}

In summary, this paper analyzed Canadian grocery vendors' product variety, finding Metro and Walmart lead with over 20,000 unique items, while chains like Galleria and T&T, focused on Asian products, have fewer than 10,000.


\newpage

# References
